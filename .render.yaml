# ==========================================================
# ğŸ“¦ Render è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³å®‰å®šç‰ˆï¼‰
# ==========================================================
# â€»ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€Œrender.yamlã€ã§ã‚‚OKï¼ˆã‚¹ãƒãƒ›ã§ãƒ‰ãƒƒãƒˆä»˜ãä¸å¯ã®ãŸã‚ï¼‰
# ==========================================================

services:
  # -----------------------------
  # ğŸš€ ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªï¼ˆFastAPIã‚µãƒ¼ãƒãƒ¼ï¼‰
  # -----------------------------
  - type: web
    name: boat-ai-fastapi        # â† ã‚µãƒ¼ãƒ“ã‚¹åï¼ˆè‡ªç”±ã«å¤‰æ›´OKï¼‰
    env: python
    plan: free                   # â† ç„¡æ–™ãƒ—ãƒ©ãƒ³
    region: singapore            # â† æ—¥æœ¬ã«æœ€ã‚‚è¿‘ã„ç„¡æ–™ãƒªãƒ¼ã‚¸ãƒ§ãƒ³
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn app:app --host 0.0.0.0 --port 10000

    # â±ï¸ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¯¾ç­–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚ˆã‚Šå°‘ã—é•·ã‚ï¼‰
    envVars:
      - key: PYTHONUNBUFFERED
        value: "1"
      - key: TZ
        value: Asia/Tokyo

    # ğŸ” ãƒ‡ãƒ—ãƒ­ã‚¤æ¡ä»¶
    autoDeploy: true

  # -----------------------------
  # ğŸŒ é™çš„ã‚µã‚¤ãƒˆï¼ˆHTML / JS / CSS è¡¨ç¤ºç”¨ï¼‰
  # -----------------------------
  - type: static
    name: boat-ai-frontend        # â† è¡¨ç¤ºåï¼ˆè‡ªç”±ã«å¤‰æ›´OKï¼‰
    env: static
    plan: free
    buildCommand: ""
    publishPath: static           # â† ãƒ•ãƒ­ãƒ³ãƒˆã®ãƒ•ã‚¡ã‚¤ãƒ«ç½®ãå ´
    autoDeploy: true

    # ğŸ”— FastAPIã¨é€£æº
    envVars:
      - key: API_URL
        value: https://boat-ai-fastapi.onrender.com

# ==========================================================
# ğŸ’¡è£œè¶³ï¼š
# - 1ã¤ç›®ï¼šFastAPIï¼ˆPythonã‚µãƒ¼ãƒãƒ¼ / APIæä¾›ï¼‰
# - 2ã¤ç›®ï¼šé™çš„ã‚µã‚¤ãƒˆï¼ˆindex.html ãªã©è¡¨ç¤ºï¼‰
# - requirements.txt, app.py, static/ ãŒå­˜åœ¨ã™ã‚‹ã“ã¨
# ==========================================================
